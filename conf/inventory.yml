set_hostname:
  hosts:
    db.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: db
    d.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: tuana9a-dev
    j.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: jenkins
    zephyrus.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: zephyrus
    orisis.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: orisis

openvpn:
  hosts:
    192.168.56.8:
      ansible_user: vagrant
      openvpn_client_file: ovpns/dev-zephyrus.ovpn
      openvpn_client_name: dev-zephyrus
    192.168.56.5:
      ansible_user: vagrant
      openvpn_client_file: ovpns/adrazaamon-workstation-zephyrus.ovpn
      openvpn_client_name: adrazaamon-workstation-zephyrus
    192.168.56.10:
      ansible_user: vagrant
      openvpn_client_file: ovpns/jenkins-zephyrus.ovpn
      openvpn_client_name: jenkins-zephyrus
    192.168.56.11:
      ansible_user: vagrant
      openvpn_client_file: ovpns/db-zephyrus.ovpn
      openvpn_client_name: db-zephyrus

authorized_keys:
  hosts:
    192.168.56.8:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys
    192.168.56.5:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys
    192.168.56.10:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys
    192.168.56.11:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys

update_dns:
  hosts:
    zephyrus.tuana9a.com:
      ansible_user: tuana9a
      update_dns_items:
        - record_name: z.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig tun0 | grep 'inet ' | awk '{print $2}')
    192.168.56.1:
      ansible_user: root
      update_dns_items:
        - record_name: pve.z.tuana9a.com
          extract_ip: $(/usr/sbin/ip addr show tun0 | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)
        - record_name: pve.h.tuana9a.com
          extract_ip: $(/usr/sbin/ip addr show vmbr0 | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)
    192.168.56.8:
      ansible_user: vagrant
      update_dns_items:
        - record_name: d.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig tun0 | grep 'inet ' | awk '{print $2}')
    192.168.56.10:
      ansible_user: vagrant
      update_dns_items:
        - record_name: j.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig tun0 | grep 'inet ' | awk '{print $2}')
    192.168.56.11:
      ansible_user: vagrant
      update_dns_items:
        - record_name: db.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig tun0 | grep 'inet ' | awk '{print $2}')
    192.168.56.5:
      ansible_user: vagrant
      update_dns_items:
        # there are two tun device don't know the order so have to grep the ip
        - record_name: amon.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig | grep 10.14.16 | awk '{print $2}')

aws_credentials:
  hosts:
    zephyrus.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: zephyrus
      cleanup: true
    orisis.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: orisis
      cleanup: true
    db.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: db
      cleanup: true
    j.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: jenkins
      cleanup: true
    d.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: tuana9a-dev

zephyrus:
  hosts:
    zephyrus.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: zephyrus

orisis:
  hosts:
    orisis.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: orisis

db:
  hosts:
    db.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: db
      nfs_server_exports:
        - path: /exports/nfs-client/
          config: /exports/nfs-client/ 192.168.56.0/24(rw,sync,no_root_squash,no_subtree_check)

amon:
  hosts:
    amon.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: amon

jenkins:
  hosts:
    j.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: jenkins
