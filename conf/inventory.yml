set_hostname:
  hosts:
    d.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: tuana9a-dev

openvpn:
  hosts:
    192.168.56.8:
      ansible_user: vagrant
      openvpn_client_file: tuana9a-dev/dev-zephyrus.ovpn
      openvpn_client_name: dev-zephyrus
    192.168.56.5:
      ansible_user: vagrant
      openvpn_client_file: amon/adrazaamon-workstation-zephyrus.ovpn
      openvpn_client_name: adrazaamon-workstation-zephyrus

authorized_keys:
  hosts:
    192.168.56.8:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys
    192.168.56.5:
      ansible_user: vagrant
      authorized_keys: https://github.com/tuana9a.keys

update_dns:
  hosts:
    192.168.56.1:
      ansible_user: root
      update_dns_items:
        - record_name: pve.z.tuana9a.com
          extract_ip: $(/usr/sbin/ip addr show tun0 | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)
        - record_name: pve.h.tuana9a.com
          extract_ip: $(/usr/sbin/ip addr show vmbr0 | grep 'inet ' | awk '{print $2}' | cut -d/ -f1)
    192.168.56.8:
      ansible_user: vagrant
      update_dns_items:
        - record_name: d.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig tun0 | grep 'inet ' | awk '{print $2}')
    192.168.56.5:
      ansible_user: vagrant
      update_dns_items:
        # there are two tun device don't know the order so have to grep the ip
        - record_name: amon.z.tuana9a.com
          extract_ip: $(/sbin/ifconfig | grep 10.14.16 | awk '{print $2}')

aws_credentials:
  hosts:
    zephyrus.tuana9a.com:
      ansible_user: tuana9a
      HOST_NAME: zephyrus
      cleanup: true
    d.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: tuana9a-dev

amon:
  hosts:
    amon.z.tuana9a.com:
      ansible_user: vagrant
      HOST_NAME: amon
