# https://knative.dev/docs/install/operator/knative-with-operators/#create-the-knative-serving-custom-resource
apiVersion: v1
kind: Namespace
metadata:
  name: knative-serving
---
apiVersion: operator.knative.dev/v1beta1
kind: KnativeServing
metadata:
  name: knative-serving
  namespace: knative-serving
spec:
  version: "1.14.1"
  ingress:
    istio:
      enabled: false
    kourier:
      enabled: false
  config:
    network:
      ingress-class: "nginx"
    domain:
      "kn.tuana9a.com": ""
  workloads:
    - name: controller
      resources:
        - container: controller
          requests:
            cpu: 10m
            memory: 30Mi
          limits:
            cpu: 20m
            memory: 50Mi
    - name: webhook
      resources:
        - container: webhook
          requests:
            cpu: 10m
            memory: 30Mi
          limits:
            cpu: 20m
            memory: 50Mi
    - name: activator
      resources:
        - container: activator
          requests:
            cpu: 10m
            memory: 30Mi
          limits:
            cpu: 20m
            memory: 50Mi
    - name: autoscaler
      resources:
        - container: autoscaler
          requests:
            cpu: 10m
            memory: 30Mi
          limits:
            cpu: 20m
            memory: 50Mi
    - name: autoscaler-hpa
      resources:
        - container: autoscaler-hpa
          requests:
            cpu: 10m
            memory: 30Mi
          limits:
            cpu: 20m
            memory: 50Mi
